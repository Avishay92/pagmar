<html>

<head>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.blue-light_blue.min.css" />
    <link rel="stylesheet" href="../style/material-theme.css" />
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.0.min.js"></script>
    <script src="../blotter/blotter.min.js"></script>
    <script src="../blotter/RollingDistortMaterial.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Frank+Ruhl+Libre:700" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="./main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
    <link rel="stylesheet" type="text/css" href="./knobs.css">
    <script src="https://tonejs.github.io/build/Tone.js"></script>

</head>

<body>
    <button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">
        חזרה
    </button>
    <div>
        <div id="inputs">
            <div>uSineDistortCycleCount</div>
            <input id="uSineDistortCycleCount" type="range" min="0" max="7" step="0.01">

            

            <div>uSineDistortSpread</div>
            <input id="uSineDistortSpread" type="range" min="0" max="1" step="0.001">

            <div>uSineDistortAmplitude</div>
            <input id="uSineDistortAmplitude" type="range" min="0" max="1" step="0.01">

            <div>uNoiseDistortAmplitude</div>
            <input id="uNoiseDistortAmplitude" type="range" min="0" max="1" step="0.001">

            <div>uNoiseDistortVolatility</div>
            <input id="uNoiseDistortVolatility" type="range" min="0" max="25" step="1">

            <div>uRotation</div>
            <input id="uRotation" type="range" min="0" max="360" step="1">

            <div>uSpeed</div>
            <input id="uSpeed" type="range" min="0" max="10" step="0.01">

            <div>uDistortPositionX</div>
            <input id="uDistortPositionX" type="range" min="0" max="1" step="0.01">

            <div>uDistortPositionY</div>
            <input id="uDistortPositionY" type="range" min="0" max="1" step="0.01">
        </div>

        <div id="char"></div>
    </div>

    <!-- PAGE STUFF -->
    <div id="app" @mouseUp="unselectKnobs">
        <div class="page-container">
            <div class="rela-block container">
                <div v-for="knob in knobs" :class="['rela-inline', 'knob', 'style'+knob.style]">
                    <div class="knob-active-light" :style="{'background-color': knob.active?knob.color:'#888'}"
                        @click="knob.active = !knob.active"></div>
                    <div class="rela-block knob-dial" :style="{'color':knob.active?knob.color:'#888'}">
                        <div class="abs-center dial-grip"
                            :style="{'transform': 'translate(-50%,-50%) rotate('+knob.rotation+'deg)'}"
                            @mouseDown="knob.selected = true; app.currentY = event.pageY; event.preventDefault()"></div>
                        <svg class="dial-svg" viewBox="0 0 100 100">
                            <path d="M20,76 A 40 40 0 1 1 80 76" fill="none" stroke="#55595C" />
                            <path d="M20,76 A 40 40 0 1 1 80 76" fill="none" :stroke="knob.active?knob.color:'#888'"
                                :style="{'stroke-dashoffset':184 - 184*((knob.rotation*1 + 132)/264)}" />
                        </svg>
                    </div>
                    <div class="rela-block knob-label" :style="{'color':knob.active?'#E4E8EA':'#888'}">{{knob.label}}
                    </div>
                </div>

            </div>
        </div>
    </div>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/vue/2.1.10/vue.min.js'></script>
    <script src="./main.js" defer></script>
    <script src="./knobs.js"></script>

</body>

</html>